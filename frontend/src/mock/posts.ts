export type PostStatus = "resolved" | "not_resolved" | "deleted_by_admin" | "deleted_by_company";

export interface Post {
  id: string;
  title: string;
  description: string;
  author: string; // user name or id
  topicId: string;
  status: PostStatus;
  tagIds: string[]; // tag id array
  createdAt: string; // ISO
}


export let postsMock: Post[] = [
  {
    id: "1",
    title: "Fix hydration mismatch in Next.js",
    description: "Iâ€™m getting hydration errors on my topic page...",
    author: "admin1",
    topicId: "1",
    status: "not_resolved",
    tagIds: ["1", "2"],
    createdAt: "2025-06-01T10:00:00Z",
  },
  {
    id: "2",
    title: "Authentication in React",
    description: "How to use Firebase with custom hooks...",
    author: "user2",
    topicId: "2",
    status: "resolved",
    tagIds: ["3"],
    createdAt: "2025-06-03T15:00:00Z",
  },
  {
    id: "3",
    title: "Improve API performance",
    description: "Caching strategies for better API performance.",
    author: "admin2",
    topicId: "2",
    status: "resolved",
    tagIds: ["5", "13"],
    createdAt: "2025-06-05T12:00:00Z",
  },
  {
    id: "4",
    title: "Unit testing in Node.js",
    description: "How to use Jest and other testing tools in Node.js.",
    author: "user1",
    topicId: "3",
    status: "not_resolved",
    tagIds: ["2", "7"],
    createdAt: "2025-06-06T08:30:00Z",
  },
  {
    id: "5",
    title: "CI/CD with GitHub Actions",
    description: "Setting up workflows with GitHub Actions.",
    author: "dev5",
    topicId: "4",
    status: "resolved",
    tagIds: ["10", "11"],
    createdAt: "2025-06-07T14:15:00Z",
  },
  {
    id: "6",
    title: "Frontend vs Backend responsibilities",
    description: "Clarifying roles in fullstack development.",
    author: "admin3",
    topicId: "5",
    status: "deleted_by_company",
    tagIds: ["1", "2"],
    createdAt: "2025-06-08T09:00:00Z",
  },
  {
    id: "7",
    title: "API security best practices",
    description: "How to protect your APIs from attacks.",
    author: "user4",
    topicId: "1",
    status: "not_resolved",
    tagIds: ["5", "6"],
    createdAt: "2025-06-10T11:45:00Z",
  },
  {
    id: "8",
    title: "Use cases for Redis caching",
    description: "How Redis can optimize your application.",
    author: "user2",
    topicId: "6",
    status: "resolved",
    tagIds: ["3", "13"],
    createdAt: "2025-06-11T13:10:00Z",
  },
  {
    id: "9",
    title: "OAuth 2.0 vs JWT",
    description: "Differences between OAuth 2.0 and JWT for authentication.",
    author: "admin1",
    topicId: "7",
    status: "resolved",
    tagIds: ["12", "6"],
    createdAt: "2025-06-12T07:25:00Z",
  },
  {
    id: "10",
    title: "Improve Lighthouse score",
    description: "Optimizing frontend performance.",
    author: "dev2",
    topicId: "8",
    status: "not_resolved",
    tagIds: ["1", "8"],
    createdAt: "2025-06-13T16:30:00Z",
  },
  {
    id: "11",
    title: "CI/CD on GitLab",
    description: "Comparison between GitLab and GitHub CI/CD pipelines.",
    author: "user3",
    topicId: "4",
    status: "resolved",
    tagIds: ["10"],
    createdAt: "2025-06-14T10:00:00Z",
  },
  {
    id: "12",
    title: "Handling JWT expiration",
    description: "How to refresh and manage JWTs securely.",
    author: "admin1",
    topicId: "7",
    status: "deleted_by_admin",
    tagIds: ["6", "12"],
    createdAt: "2025-06-15T17:20:00Z",
  },
  {
    id: "13",
    title: "Microservices with Docker",
    description: "Containerize your microservices efficiently.",
    author: "dev3",
    topicId: "9",
    status: "resolved",
    tagIds: ["4", "11"],
    createdAt: "2025-06-16T09:45:00Z",
  },
  {
    id: "14",
    title: "REST vs GraphQL",
    description: "Understanding when to use REST or GraphQL.",
    author: "user1",
    topicId: "10",
    status: "resolved",
    tagIds: ["5"],
    createdAt: "2025-06-17T14:05:00Z",
  },
  {
    id: "15",
    title: "Design patterns in React",
    description: "Using container and presentational components.",
    author: "dev1",
    topicId: "1",
    status: "not_resolved",
    tagIds: ["1", "9"],
    createdAt: "2025-06-18T10:50:00Z",
  },
  {
    id: "16",
    title: "Cloud storage options",
    description: "Comparing AWS S3 vs Firebase Storage.",
    author: "user5",
    topicId: "9",
    status: "resolved",
    tagIds: ["11"],
    createdAt: "2025-06-19T11:30:00Z",
  },
  {
    id: "17",
    title: "How to mock APIs",
    description: "Using tools like MSW or JSON Server.",
    author: "admin2",
    topicId: "3",
    status: "resolved",
    tagIds: ["7", "5"],
    createdAt: "2025-06-20T08:15:00Z",
  },
  {
    id: "18",
    title: "Secure password storage",
    description: "Use bcrypt and salting to hash passwords.",
    author: "dev4",
    topicId: "2",
    status: "deleted_by_admin",
    tagIds: ["6", "12"],
    createdAt: "2025-06-21T18:40:00Z",
  },
  {
    id: "19",
    title: "Integrate Redis with NestJS",
    description: "Use Redis for caching in NestJS projects.",
    author: "user3",
    topicId: "3",
    status: "not_resolved",
    tagIds: ["2", "13"],
    createdAt: "2025-06-22T13:00:00Z",
  },
  {
    id: "20",
    title: "Responsive design best practices",
    description: "Media queries, mobile-first, and more.",
    author: "admin3",
    topicId: "8",
    status: "resolved",
    tagIds: ["1", "9"],
    createdAt: "2025-06-23T12:00:00Z",
  },
  {
    id: "21",
    title: "Database optimization tips",
    description: "Indexing, query plans, and partitioning.",
    author: "user2",
    topicId: "2",
    status: "resolved",
    tagIds: ["3"],
    createdAt: "2025-06-24T16:30:00Z",
  },
];


export const getPostById = (id: string): Post | undefined =>
  postsMock.find((p) => p.id === id);

export const deletePostById = (id: string) => {
  postsMock = postsMock.filter((p) => p.id !== id);
};
